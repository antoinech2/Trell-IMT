{% set manager = false %}
{% include 'components/header.html.jinja2' %}
{% with etiquette=etiquette_data, user_type=user.type %}
    {% include 'components/task_form.html.jinja2' %}
{% endwith %}
<link rel="stylesheet" href="{{ url_for("static", filename="css/dev.css") }}"/>
<form class="search-bar" action="{{ url_for('board_developer') }}" method="post" >
    <div class="field">
        <label for="project_name">Project name:</label>
        <input list="projects" id="project_name" name="project_name" autocomplete="off" value="{{ form.project_name }}"/>
        <datalist id="projects">
            {% for project in project_name %}
            <option value="{{ project }}">
            {% endfor %}
        </datalist>
    </div>

    <div class="field">
        <label for="task_name">Task name:</label>
        <input list="task" id="task_name" name="task_name" autocomplete="off" value="{{ form.task_name }}"/>
        <datalist id="task">
            {% for task in task_name %}
            <option value="{{ task }}">
            {% endfor %}
        </datalist>
    </div>

    <div class="field">
        <label for="importance">Importance:</label>
        <select id="importance" name="importance" >
            <option value="0">{{ none }}</option>
            {% for level in importance %}
            <option value="{{ level.id }}" {{ 'selected' if form.importance == level.id else ''}}>{{ level.label }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="field">
        <label for="state">State:</label>
        <select id="state" name="state">
            <option value="0">{{ none }}</option>
            {% for state in states %}
            <option value="{{ state.id }}" {{ 'selected' if form.state == state.id else ''}}>{{ state.label }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="field">
        <label for="task_date">Due to:</label>
        <input type="date" id="task_date" name="task_date" value="{{ form.task_date }}"/>
    </div>

    <button type="submit">Find</button>
</form>
<div class="row">
    {% for task in tasks_data %}
        <div class="col-xl-3 col-sm-6 col-12">
            <div class="task" data-task_id="{{ task.id }}" data-date_expires="{{ task.date_expires }}">
                {% with task=task%}
                    {% include "components/task.html.jinja2" %}
                {% endwith %}
            </div>
        </div>
    {% endfor %}
</div>
</body>
</html>